<!DOCTYPE html>
<html lang="en">

<head>
  <title>tooldaq.js Documentation | ToolDAQ WebServer</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>

  <style>
    .content {
      margin-left: 220px;
      padding: 20px;
    }

    .section {
      margin-bottom: 50px;
    }

    .back-to-top {
      margin-top: 20px;
      text-align: right;
    }

    .demo-container {
      border: 1px solid #ddd;
      padding: 20px;
      background-color: #f9f9f9;
      margin-top: 10px;
    }
  </style>
</head>

<body>
  <!--#include virtual="/includes/header.html" -->
  <!--#include virtual="../subheader.html" -->
  <!--#include virtual="/includes/drawer.html" -->

  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
    <main class="mdl-layout__content">
      <div class="content mdl-typography--text-center">
        <h1>ToolDAQ.js Examples and Getting Started Guide</h1>
        <p>This is your guide to using <strong>tooldaq.js</strong>;
          a JavaScript library for interacting with the back-end services for monitoring and data systems, providing
          functionalities for database queries, requests and data visualization.. ToolDAQ.js provides functionalities
          for:
        </p>
        <ul class="mdl-typography--text-left">
          <li><strong>Database Queries:</strong> Retrieve and manage data from ToolDAQ databases efficiently.</li>
          <li><strong>Requests:</strong> Handle requests to interact with external services and endpoints.</li>
          <li><strong>Data Visualization:</strong> Create plots and visualizations for data analysis.</li>
          <li><strong>Service Management:</strong> Interact with and manage services for seamless integration.</li>
          <li><strong>Utilities:</strong> Miscellaneous helper functions to enhance development workflows.</li>
        </ul>
      </div>
      <div class="content">
        <p>In this guide, we will explore each of these function groups, providing examples and interactive demos for
          better understanding.</p>
        <hr>
        <h2>Function Groups</h2>
        <ul>
          <li><a href="#database-query">Database Query Operations</a></li>
          <li><a href="#request-functions">Request Functions</a></li>
          <li><a href="#plotting-functions">Plotting and Visualization Functions</a></li>
          <li><a href="#services-functions">Service Functions</a></li>
          <li><a href="#misc-functions">Miscellaneous Functions</a></li>
        </ul>
        <hr>
        <div id="setup">
          <h2>Basic Setup</h2>
          <p>
            To use <strong>ToolDAQ.js</strong> in your project, follow these steps:
          </p>
          <ol>
            <li><strong>Set Up Your JavaScript File:</strong> Create a new JavaScript file (e.g., <code>app.js</code>)
              where you'll write your code.</li>
            <li><strong>Import ToolDAQ.js Functions:</strong> Use the ES6 <code>import</code> syntax to include the
              functions you need from <code>tooldaq.js</code>. For example:
              <pre class="mdl-typography--body-2">
                <code class="language-javascript">import { dbJson } from '/includes/tooldaq.js';</code>
              </pre>

              If you need multiple functions, you can import them all at once:
              <pre class="mdl-typography--body-2">
                <code  class="language-javascript">import { dbJson, dbTable, dbPlot } from '/includes/tooldaq.js';</code>
              </pre>
            </li>
            <li><strong>Link Your JavaScript File to Your HTML Page:</strong> Add the following line to your HTML file
              to
              include your <code>app.js</code>:
              <pre class="mdl-typography--body-2">
                <code  class="language-html">
                  &lt;html lang="en"&gt;
                    &lt;head&gt;
                      &lt;title&gt;ToolDAQ.js WebPage&lt;/title&gt;
                    &lt;/head&gt;
                    &lt;body&gt;
                      &lt;h1&gt;ToolDAQ.js WebPage&lt;/h1&gt;
                      &lt;script src="app.js"&gt;&lt;/script&gt;
                    &lt;/body&gt;
                  &lt;/html&gt;
                </code>
              </pre>
            </li>
          </ol>
          <p>Once you've completed these steps, you're ready to start using ToolDAQ.js!</p>
        </div>
        <!-- <div id="database-query" class="mdl-shadow--2dp">
          <h2 class="mdl-typography--headline">Database Query Operations</h2>
          <p>Functions that help query and retrieve data from the ToolDAQ database.</p>

          <div class="demo-container mdl-card__supporting-text">
            <h4 class="mdl-typography--subhead">dbJson(query)</h4>
            <p><strong>Description:</strong> Executes a SQL query and returns the result as JSON.</p>
            <pre class="mdl-typography--body-2">
              <code>import { dbJson } from '/includes/tooldaq.js';

              const query = "SELECT * FROM monitoring LIMIT 10";
              dbJson(query).then(result => console.log(result));</code>
          </pre>
            <button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored" onclick="runDbJsonDemo()">
              Run Demo
            </button>
            <div id="dbJsonOutput" class="mdl-typography--body-1"></div>
          </div>

          <div class="back-to-top mdl-card__actions">
            <a href="#top" class="mdl-button mdl-js-button mdl-button--primary">
              Back to Top
            </a>
          </div>
        </div> -->
        <div id="database-query">
          <hr>
          <h2>Database Query Operations</h2>
          <p>
            The <strong>Database Query Operations</strong> functions are designed to help you interact with ToolDAQ
            databases. These functions include:
          </p>
          <ul>
            <li><strong>dbJson(query):</strong> Executes a SQL query and returns the result as JSON.</li>
            <li><strong>dbTable(query):</strong> Executes a SQL query and displays the result as an HTML table.</li>
            <li><strong>dbPlot(query):</strong> Executes a SQL query and creates a plot from the results.</li>
          </ul>
          <p>Below are detailed explanations and examples for each function:</p>
          <div id="db-json-example">
            <h3>dbJson(query)</h3>
            <p>
              <strong>Description:</strong> Executes a SQL query and returns the result as a JSON object.
              This is useful when you need structured data to work with programmatically.
            </p>
            <p><strong>Example:</strong></p>
            <pre>
              <code  class="language-javascript">
                import { dbJson } from '/includes/tooldaq.js';
                const query = "SELECT * FROM monitoring LIMIT 10";
                dbJson(query).then(result => console.log(result));
              </code>
            </pre>
            <p>
              <strong>Output:</strong> The result of the query will be logged to the browser console as JSON.
            </p>
            <p> You can also use a script tag embedded in your html as follows:</p>
            <pre>
              <code class="language-html">
                &lt;button onclick="runDbJson()"
                  class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored"&gt;
                  Run runDbJson
                &lt;/button&gt;
                &lt;div id="dbJsonOutput" class="mdl-typography--body-1"&gt;&lt;/div&gt;

                &lt;script&gt;
                  <code class="language-javascript">
                    function runDbJson() {
                      import('/includes/tooldaq.js').then(({ dbJson }) => {
                        const query = "SELECT * FROM monitoring LIMIT 1";
                        dbJson(query)
                          .then(result => {
                            document.getElementById('dbJsonOutput').innerText = JSON.stringify(result, null, 2);
                          })
                          .catch(error => {
                            document.getElementById('dbJsonOutput').innerText = 'Error: ' + error.message;
                          });
                      });
                    }
                  </code>
                &lt;/script&gt;
              </code>
            </pre>
            <div class="demo-container">
              <button onclick="runDbJsonDemo()" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">
                Run dbJson Demo
              </button>
              <div id="dbJsonOutput" class="mdl-typography--body-1"></div>
            </div>

            <script>
              function runDbJsonDemo() {
                import('/includes/tooldaq.js').then(({ dbJson }) => {
                  const query = "SELECT * FROM monitoring LIMIT 1";
                  dbJson(query)
                    .then(result => {
                      document.getElementById('dbJsonOutput').innerText = JSON.stringify(result, null, 2);
                    })
                    .catch(error => {
                      document.getElementById('dbJsonOutput').innerText = 'Error: ' + error.message;
                    });
                });
              }
            </script>
            <hr>
          </div>
          <div id="db-table-example">
            <h3>dbTable(query)</h3>
            <p>
              <strong>Description:</strong> Executes a SQL query and dynamically generates an HTML table displaying the
              results.
              This is helpful when you want to present query results in a user-friendly tabular format.
            </p>
            <p><strong>Example:</strong></p>
            <pre>
              <code class="language-javascript">
                import { dbTable } from '/includes/tooldaq.js';
                const query = "SELECT * FROM monitoring LIMIT 10";
                const headers = ["ID", "Name", "Value", "Timestamp"]; // Example headers
                dbTable(query, headers).then(data => {
                  console.log("dbTable result:", data);
                  displayTable(data, headers);
                });
              </code>
            </pre>
            <p>
              <strong>Output:</strong> The query results will be displayed in an HTML table within a container element
              with
              the ID <code>tableContainer</code>.
            </p>
            <div id="tableContainer" class="demo-container mdl-shadow--2dp">
              <button onclick="runDbTableDemo()"
                class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">
                Run dbTable Demo
              </button>
              <div id="dbTableOutput" class="mdl-typography--body-1"></div>
            </div>

            <script>
              function runDbTableDemo() {
                import('/includes/tooldaq.js').then(({ dbTable }) => {
                  const query = "SELECT * FROM monitoring LIMIT 10";
                  const headers = ["ID", "Name", "Value", "Timestamp"];

                  dbTable(query, headers).then(data => {
                    console.log("dbTable result:", data);
                    displayTable(data, headers);
                  }).catch(error => {
                    document.getElementById('dbTableOutput').innerHTML = `<p style="color:red;">Error: ${error.message}</p>`;
                  });
                });

                function displayTable(data, headers) {
                  const container = document.getElementById("tableContainer");
                  container.innerHTML = ""; // Clear previous content

                  if (!data || data.length === 0) {
                    container.innerHTML = "<p>No data available.</p>";
                    return;
                  }

                  let table = document.createElement("table");
                  table.classList.add("mdl-data-table", "mdl-js-data-table", "mdl-shadow--2dp");

                  // Create table header
                  let thead = document.createElement("thead");
                  let headerRow = document.createElement("tr");
                  headers.forEach(header => {
                    let th = document.createElement("th");
                    th.textContent = header;
                    th.classList.add("mdl-data-table__cell--non-numeric");
                    headerRow.appendChild(th);
                  });
                  thead.appendChild(headerRow);
                  table.appendChild(thead);

                  // Create table body
                  let tbody = document.createElement("tbody");
                  data.forEach(row => {
                    let tr = document.createElement("tr");
                    row.forEach(cell => {
                      let td = document.createElement("td");
                      td.textContent = cell;
                      td.classList.add("mdl-data-table__cell--non-numeric");
                      tr.appendChild(td);
                    });
                    tbody.appendChild(tr);
                  });
                  table.appendChild(tbody);

                  container.appendChild(table);
                }
              }
            </script>
            <hr>
          </div>

          <div id="db-plot-example">
            <h3>dbPlot(query)</h3>
            <p>
              <strong>Description:</strong> Executes a SQL query and generates a plot from the query results.
              This is ideal for visualisations and plots.
            </p>
            <p><strong>Example:</strong></p>
            <pre>
              <code class="language-javascript">
                import { dbPlot } from '/includes/tooldaq.js';

                const query = "SELECT time, value FROM monitoring ORDER BY time LIMIT 50";
                const template = { type: 'scatter', mode: 'lines+markers' };

                dbPlot(query, template).then(plots => {
                  Plotly.newPlot('plotContainer', plots);
                });
              </code>
            </pre>
            <p>
              <strong>Output:</strong> A plot will be rendered in a container element with the ID
              <code>plotContainer</code>.
            </p>
            <div id="plotContainer" class="demo-container mdl-shadow--2dp">
              <button onclick="runDbPlotDemo()" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">
                Run dbPlot Demo
              </button>
            </div>

            <script>
              function runDbPlotDemo() {
                import('/includes/tooldaq.js').then(({ dbPlot }) => {
                  const query = "SELECT time, value FROM monitoring ORDER BY time LIMIT 50";
                  const template = { type: 'scatter', mode: 'lines+markers' };

                  dbPlot(query, template)
                    .then(plots => {
                      console.log("dbPlot data:", plots);
                      if (!plots || plots.length === 0) {
                        throw new Error("No data returned for plotting.");
                      }
                      Plotly.newPlot('plotContainer', plots);
                    })
                    .catch(error => {
                      document.getElementById('plotContainer').innerHTML = `<p style="color:red;">Error: ${error.message}</p>`;
                      console.error("dbPlot Error:", error);
                    });
                });
              }
            </script>
            <hr>
          </div>
        </div>
        <div id="plotting-functions">
          <h2>Plotting Functions</h2>
          <p>
            The <strong>Plotting Functions</strong> in ToolDAQ.js allow you to generate and display plots easily.
            These functions are useful for visualizing data from the monitoring system and predefined Plotly plots.
          </p>
          <ul>
            <li><strong>getMonitoringPlot(device, options):</strong> Retrieves monitoring data as an array of Plotly
              plot objects.</li>
            <li><strong>makeMonitoringPlot(div, device, options, layout):</strong> Generates a plot and fills the
              specified div.</li>
            <li><strong>getPlotlyPlot(name, version):</strong> Retrieves a saved Plotly plot.</li>
            <li><strong>makePlotlyPlot(div, name, version):</strong> Renders a saved Plotly plot inside a specified div.
            </li>
          </ul>
          <p>Below are detailed explanations and examples for each function:</p>

          <!-- getMonitoringPlot Example -->
          <div id="get-monitoring-plot-example">
            <h3>getMonitoringPlot(device, options)</h3>
            <p>
              <strong>Description:</strong> Retrieves monitoring data from the system and returns an array of Plotly
              plot objects.
            </p>
            <p><strong>Example:</strong></p>
            <pre>
              <code class="language-javascript">
                import { getMonitoringPlot } from '/includes/tooldaq.js';
                const device = "middleman_1";
                const options = { from: '2025-01-01T00:00:00Z' } // { title: 'Monitoring Plot' };
                getMonitoringPlot(device, options).then(plots => console.log(plots));
              </code>
            </pre>
            <p><strong>Output:</strong> Logs the retrieved plot data to the console.</p>
            <p>
              You can also add as script tag directly to your HTML file: and utilise the function as shown below:
            </p>
            <pre>
              <code class="language-javascript">
                  function runGetMonitoringPlotDemo() {
                    import('/includes/tooldaq.js').then(({ getMonitoringPlot }) => {
                      const device = "middleman_1";
                      const options = { from: '2025-01-01T00:00:00Z' };
                      getMonitoringPlot(device, options)
                        .then(plots => {
                          document.getElementById('getMonitoringPlotOutput').innerText = JSON.stringify(plots, null, 2);
                        })
                        .catch(error => {
                          document.getElementById('getMonitoringPlotOutput').innerText = 'Error: ' + error.message;
                        });
                    });
                  }
              </code>
            </pre>
            <div class="demo-container">
              <button onclick="runGetMonitoringPlotDemo()"
                class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">
                Run getMonitoringPlot Demo
              </button>
              <div id="getMonitoringPlotOutput" class="mdl-typography--body-1"></div>
            </div>

            <script>
              function runGetMonitoringPlotDemo() {
                import('/includes/tooldaq.js').then(({ getMonitoringPlot }) => {
                  const device = "middleman_1";
                  const options = { limit: 100 };
                  getMonitoringPlot(device, options)
                    .then(plots => {
                      document.getElementById('getMonitoringPlotOutput').innerText = JSON.stringify(plots, null, 2);
                    })
                    .catch(error => {
                      document.getElementById('getMonitoringPlotOutput').innerText = 'Error: ' + error.message;
                    });
                });
              }
            </script>
            <hr>
          </div>

          <!-- makeMonitoringPlot Example -->
          <div id="make-monitoring-plot-example">
            <h3>makeMonitoringPlot(div, device, options, layout)</h3>
            <p>
              <strong>Description:</strong> Retrieves monitoring data and renders a plot inside the specified div.
            </p>
            <p><strong>Example:</strong></p>
            <pre>
              <code class="language-javascript">
                import { makeMonitoringPlot } from '/includes/tooldaq.js';
                const device = "middleman_1";
                const options = { from: '2025-01-01T00:00:00Z' };
                const layout = { title: "Sensor Data" };
                makeMonitoringPlot("monitoringPlotContainer", device, options, layout);
              </code>
            </pre>
            <p>You can also embed the script in your html using the snippet below</p>
            <pre>
              <code class="language-html">
                &lt;div id="monitoringPlotContainer" class="demo-container mdl-shadow--2dp"&gt;&lt;/div&gt;
                &lt;script&gt;
                  <code class="language-javascript">
                    function runMakeMonitoringPlot() {
                      import('/includes/tooldaq.js').then(({ makeMonitoringPlot }) => {
                        const device = "middleman_1";
                        const options = { from: '2025-01-01T00:00:00Z' };
                        const layout = { title: "Sensor Data" };
                        makeMonitoringPlot("monitoringPlotContainer", device, options, layout);
                      });
                    }
                  </code>
                &lt;/script&gt;
              </code>
            </pre>
            <p><strong>Output:</strong> A plot will be rendered inside the div with the ID
              <code>monitoringPlotContainer</code>.</p>
            <div id="monitoringPlotContainer" class="demo-container mdl-shadow--2dp">
              <button onclick="runMakeMonitoringPlotDemo()"
                class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">
                Run makeMonitoringPlot Demo
              </button>
              <div id="makeMonitoringPlotOutput"></div>
            </div>

            <script>
              function runMakeMonitoringPlotDemo() {
                import('/includes/tooldaq.js').then(({ makeMonitoringPlot }) => {
                  const device = "middleman_1";
                  const options = { from: '2025-01-01T00:00:00Z' };
                  const layout = { title: "Sensor Data" };
                  makeMonitoringPlot("makeMonitoringPlotOutput", device, options, layout);
                });
              }
            </script>
            <hr>
          </div>

          <!-- getPlotlyPlot Example -->
          <div id="get-plotly-plot-example">
            <h3>getPlotlyPlot(name, version)</h3>
            <p>
              <strong>Description:</strong> Retrieves a saved Plotly plot from the database.
            </p>
            <p><strong>Example:</strong></p>
            <pre>
              <code class="language-javascript">
                import { getPlotlyPlot } from '/includes/tooldaq.js';
                const name = "example_plot";
                const version = 1;
                getPlotlyPlot(name, version).then(plot => console.log(plot));
              </code>
            </pre>
            <p><strong>Output:</strong> Logs the retrieved plot data to the console.</p>
            <div class="demo-container">
              <button onclick="runGetPlotlyPlotDemo()"
                class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">
                Run getPlotlyPlot Demo
              </button>
              <div id="getPlotlyPlotOutput" class="mdl-typography--body-1"></div>
            </div>

            <script>
              function runGetPlotlyPlotDemo() {
                import('/includes/tooldaq.js').then(({ getPlotlyPlot }) => {
                  const name = "plotly1";
                  const version = 1;
                  getPlotlyPlot(name, version)
                    .then(plot => {
                      document.getElementById('getPlotlyPlotOutput').innerText = JSON.stringify(plot, null, 2);
                    })
                    .catch(error => {
                      document.getElementById('getPlotlyPlotOutput').innerText = 'Error: ' + error.message;
                    });
                });
              }
            </script>
            <hr>
          </div>

          <!-- makePlotlyPlot Example -->
          <div id="make-plotly-plot-example">
            <h3>makePlotlyPlot(div, name, version)</h3>
            <p>
              <strong>Description:</strong> Calls <code>getPlotlyPlot</code> to retrieve a Plotly plot and renders it
              inside the specified <code>div</code> element.
            </p>
            <p><strong>Example:</strong></p>
            <pre>
              <code class="language-javascript">
                import { makePlotlyPlot } from '/includes/tooldaq.js';

                const divId = 'plotlyContainer';
                const plotName = 'example_plot';
                const plotVersion = '1.0';
                makePlotlyPlot(divId, plotName, plotVersion);
              </code>
            </pre>
            <p>
              <strong>Output:</strong> The plot will be rendered inside the <code>div</code> element with the ID
              <code>plotlyContainer</code>.
            </p>
            <div id="plotlyContainer" class="demo-container mdl-shadow--2dp">
              <button onclick="runMakePlotlyPlotDemo()"
                class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">
                Run makePlotlyPlot Demo
              </button>
              <div id="makePlotlyPlotOutput"></div>
            </div>
            <script>
              function runMakePlotlyPlotDemo() {
                import('/includes/tooldaq.js').then(({ makePlotlyPlot }) => {
                  const divId = 'makePlotlyPlotOutput';
                  const plotName = 'plotly1';
                  const plotVersion = 1;

                  makePlotlyPlot(divId, plotName, plotVersion)
                    .catch(error => {
                      document.getElementById('makePlotlyPlotOutput').innerHTML = `<p style="color:red;">Error: ${error.message}</p>`;
                      console.error("makePlotlyPlot Error:", error);
                    });
                });
              }
            </script>
            <hr>
          </div>
        </div>
        <div id="services-functions">
          <h2 class="mdl-typography--headline">Services Functions</h2>
          <p>The services functions in ToolDAQ.js provide functionalities to interact with and manage services. Below
            are examples of each function</p>
          <div id="get-services-example">
            <h3>getServices()</h3>
            <p>
              <strong>Description:</strong> Retrieves a list of available services.
            </p>
            <p><strong>Example:</strong></p>
            <pre>
              <code class="language-javascript">
                import { getServices } from '/includes/tooldaq.js';

                // Retrieve all services
                getServices().then(services => console.log(services));
              </code>
            </pre>
            <p><strong>Output:</strong> Logs the filtered list of services to the console.</p>

            <div class="demo-container">
              <button onclick="runGetServicesDemo()"
                class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">
                Run getServices Demo
              </button>
              <div id="getServicesOutput" class="mdl-typography--body-1"></div>
            </div>

            <script>
              function runGetServicesDemo() {
                import('/includes/tooldaq.js').then(({ getServices }) => {
                  getServices().then(services => {
                    document.getElementById('getServicesOutput').innerText = JSON.stringify(services, null, 2);
                  }).catch(error => {
                    document.getElementById('getServicesOutput').innerText = 'Error: ' + error.message;
                  });
                });
              }
            </script>
            <hr>
          </div>
          <div id="get-service-example">
            <h3>getService(name)</h3>
            <p>
              <strong>Description:</strong> Retrieves a specific service by name. Returns null if the service is not
              found.
            </p>
            <p><strong>Example:</strong></p>
            <pre>
              <code class="language-javascript">
                import { getService } from '/includes/tooldaq.js';

                // Retrieve a specific service
                const serviceName = 'middleman_1';
                getService(serviceName).then(service => console.log(service));
              </code>
            </pre>
            <p><strong>Output:</strong> Logs the service details to the console.</p>

            <div class="demo-container">
              <button onclick="runGetServiceDemo()"
                class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">
                Run getService Demo
              </button>
              <div id="getServiceOutput" class="mdl-typography--body-1"></div>
            </div>
            <script>
              function runGetServiceDemo() {
                import('/includes/tooldaq.js').then(({ getServices }) => {
                  const serviceName = 'middleman_1';
                  getServices(serviceName).then(service => {
                    document.getElementById('getServiceOutput').innerText = JSON.stringify(service, null, 2);
                  }).catch(error => {
                    document.getElementById('getServiceOutput').innerText = 'Error: ' + error.message;
                  });
                });
              }
            </script>
            <hr>
          </div>
          <div id="send-command-example">
            <h3>sendCommand(service, command, ...args)</h3>
            <p>
              <strong>Description:</strong> Sends a command to a specified service. You can send any command with
              arguments to the service's command interface.
            </p>
            <p><strong>Example:</strong></p>
            <pre>
              <code class="language-javascript">
                import { sendCommand } from '/includes/tooldaq.js';

                // Example: Send a command to the service
                const service = { ip: '172.17.0.2', port: '24011' };
                const command = 'Status';
                sendCommand(service, command).then(response => console.log(response));
              </code>
            </pre>
            <p><strong>Output:</strong> Logs the response from the service to the console.</p>

            <p> You can also use a script tag embedded in your html as follows:</p>
            <pre>
              <code class="language-html">
                &lt;button onclick="runSendCommand()"
                  class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored"&gt;
                  Run sendCommand
                &lt;/button&gt;
                &lt;div id="sendCommandOutput" class="mdl-typography--body-1"&gt;&lt;/div&gt;

                &lt;script&gt;
                  <code class="language-javascript">
                    function runSendCommand() {
                      import('/includes/tooldaq.js').then(({ sendCommand }) => {
                        const service = { ip: '172.17.0.2', port: '24011' };
                        const command = 'Status';
                        sendCommand(service, command).then(response => {
                          document.getElementById('sendCommandOutput').innerText = JSON.stringify(response, null, 2);
                        }).catch(error => {
                          document.getElementById('sendCommandOutput').innerText = 'Error: ' + error.message;
                        });
                      });
                    }
                  </code>
                &lt;/script&gt;
              </code>
            </pre>

            <div class="demo-container">
              <button onclick="runSendCommandDemo()"
                class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">
                Run sendCommand Demo
              </button>
              <div id="sendCommandOutput" class="mdl-typography--body-1"></div>
            </div>

            <script>
              function runSendCommandDemo() {
                import('/includes/tooldaq.js').then(({ sendCommand }) => {
                  const service = { ip: '172.17.0.2', port: '24011' };
                  const command = 'Status';
                  sendCommand(service, command).then(response => {
                    document.getElementById('sendCommandOutput').innerText = JSON.stringify(response, null, 2);
                  }).catch(error => {
                    document.getElementById('sendCommandOutput').innerText = 'Error: ' + error.message;
                  });
                });
              }
            </script>
            <hr>
          </div>
          <div id="get-controls-example">
            <h3>getControls(service)</h3>
            <p>
              <strong>Description:</strong> Retrieves the control interface (as JSON) for a specified service.
            </p>
            <p><strong>Example:</strong></p>
            <pre>
              <code class="language-javascript">
                import { getControls } from '/includes/tooldaq.js';

                // Retrieve the controls for a service
                const service = { ip: '172.17.0.2', port: '24011' };
                getControls(service).then(controls => console.log(controls));
              </code>
            </pre>
            <p><strong>Output:</strong> Logs the retrieved controls for the service to the console.</p>

            <div class="demo-container">
              <button onclick="runGetControlsDemo()"
                class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">
                Run getControls Demo
              </button>
              <div id="getControlsOutput" class="mdl-typography--body-1"></div>
            </div>

            <script>
              function runGetControlsDemo() {
                import('/includes/tooldaq.js').then(({ getControls }) => {
                  const service = { ip: '172.17.0.2', port: '24011' };
                  getControls(service).then(controls => {
                    document.getElementById('getControlsOutput').innerText = JSON.stringify(controls, null, 2);
                  }).catch(error => {
                    document.getElementById('getControlsOutput').innerText = 'Error: ' + error.message;
                  });
                });
              }
            </script>
            <hr>
          </div>

        </div>
        <div id="request-functions">
          <h2>Request Functions</h2>
          <p>The request functions in ToolDAQ.js provide functionalities to interact with services and
            endpoints. Below are examples of each function</p>
          <div id="get-request-example">
            <h3>getRequest(url)</h3>
            <p>
              <strong>Description:</strong> Sends a GET request to the specified URL and returns the response.
            </p>
            <p><strong>Example:</strong></p>
            <pre>
              <code class="language-javascript">
                import { getRequest } from '/includes/tooldaq.js';

                // Example: Send a GET request
                const url = 'logs/Example_log';
                request(url).then(response => console.log(response));
              </code>
            </pre>
            <p><strong>Output:</strong> Logs the response from the request to the console.</p>

            <div class="demo-container">
              <button onclick="runGetRequestDemo()"
                class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">
                Run getRequest Demo
              </button>
              <div id="getRequestOutput" class="mdl-typography--body-1"></div>
            </div>

            <script>
              function runGetRequestDemo() {
                import('/includes/tooldaq.js').then(({ request }) => {
                  const url = 'logs/Example_log';
                  request(url).then(response => {
                    document.getElementById('getRequestOutput').innerText = JSON.stringify(response, null, 2);
                  }).catch(error => {
                    document.getElementById('getRequestOutput').innerText = 'Error: ' + error.message;
                  });
                });
              }
            </script>
            <hr>
          </div>

          <div id="fetch-file">
            <h3>Fetch File Contents</h3>
            <p>Reads the contents of a log file.</p>
            <pre>
              <code class="language-javascript">
                import { request } from '/includes/tooldaq.js';

                request('logs/Example_log').then(response => response.text()).then(text => {
                  console.log(text);
                }).catch(error => {
                  console.error('Error:', error);
                });
              </code>
            </pre>
            <pre>
              <code class="language-html">
                &lt;button onclick="fetchFileContents()" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored"&gt;
                  Run
                &lt;/button&gt;
                &lt;div id="fileOutput"&gt;&lt;/div&gt;

                &lt;script&gt;
                  <code class="language-javascript">
                    function fetchFileContents() {
                      import('/includes/tooldaq.js').then(({ request }) => {
                        request('logs/Example_log').then(response => response.text()).then(text => {
                          document.getElementById('fileOutput').innerText = text;
                        }).catch(error => {
                          document.getElementById('fileOutput').innerText = 'Error: ' + error.message;
                        });
                      });
                    }
                  </code>
                &lt;/script&gt;
              </code>
            </pre>
            <div class="demo-container">
              <button onclick="fetchFileContents()" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">Run fetchFileContents</button>
              <div id="fileOutput"></div>
            </div>

            <script>
              function fetchFileContents() {
                import('/includes/tooldaq.js').then(({ request }) => {
                  request('logs/Example_log').then(response => response.text()).then(text => {
                    document.getElementById('fileOutput').innerText = text;
                  }).catch(error => {
                    document.getElementById('fileOutput').innerText = 'Error: ' + error.message;
                  });
                });
              }
            </script>
          </div>

        </div>
    </main>
  </div>
  <!--#include virtual="/includes/footer.html" -->
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</body>

</html>